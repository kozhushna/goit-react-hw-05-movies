{"version":3,"file":"static/js/463.5387c3bd.chunk.js","mappings":"2OAOA,EAJqB,SAAC,GAAwB,IAAtBA,EAAqB,EAArBA,KAAMC,EAAe,EAAfA,SAC5B,OAAO,SAAC,KAAD,CAAMC,GAAIF,EAAV,SAAiBC,GACzB,E,kBCJD,EAA+B,mCAA/B,EAAiF,mCAAjF,EAAiI,iCAAjI,EAA+K,iCC0E/K,EAlEqB,WAAO,IAAD,IACzB,GAA0BE,EAAAA,EAAAA,UAAS,MAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAkCF,EAAAA,EAAAA,WAAS,GAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,IAAnC,eAAOK,EAAP,KAAcC,EAAd,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QACFE,GAAWC,EAAAA,EAAAA,MACXC,GAAYC,EAAAA,EAAAA,QAAM,iBAACH,QAAD,IAACA,GAAD,UAACA,EAAUI,aAAX,aAAC,EAAiBC,YAAlB,QAA0B,CAAEC,SAAU,MAgB9D,IAdAC,EAAAA,EAAAA,YAAU,WACRZ,GAAa,IACba,EAAAA,EAAAA,IAAeV,GACZW,MAAK,SAAAC,GACJjB,EAASiB,EACV,IACAC,OAAM,SAAAf,GACLC,EAAS,iBACV,IACAe,SAAQ,WACPjB,GAAa,EACd,GACJ,GAAE,CAACG,IAEAF,EACF,OACE,gBAAKiB,UAAWC,EAAAA,EAAAA,UAAhB,UACE,yBAAMlB,MAIZ,IAAKJ,EAAO,OAAO,SAACuB,EAAA,EAAD,IAEnB,IAAQC,EAAmDxB,EAAnDwB,MAAOC,EAA4CzB,EAA5CyB,OAAQC,EAAoC1B,EAApC0B,SAAUC,EAA0B3B,EAA1B2B,KAAMC,EAAoB5B,EAApB4B,MAAOC,EAAa7B,EAAb6B,SAE9C,OACE,2BACE,iBAAKR,UAAWC,EAAAA,EAAAA,UAAhB,UACGpB,IAAa,SAACqB,EAAA,EAAD,KACd,SAAC,EAAD,CAAc3B,KAAMc,EAAUoB,QAA9B,sBACA,iBAAKT,UAAWU,EAAhB,WACE,gBAAKC,IAAKH,EAAUI,IAAKT,EAAOU,MAAO,OACvC,iBAAKb,UAAWU,EAAhB,WACE,0BACGP,EADH,KACYG,EADZ,QAGA,wCAAgBC,EAAhB,QACA,sCACA,uBAAIF,KACJ,oCACA,uBAAID,EAAOU,KAAK,cAGpB,oDACA,gBAAId,UAAWU,EAAf,WACE,eAAIV,UAAWU,EAAf,UACE,SAAC,KAAD,CAASjC,GAAG,OAAZ,qBAEF,eAAIuB,UAAWU,EAAf,UACE,SAAC,KAAD,CAASjC,GAAG,UAAZ,2BAGJ,SAAC,KAAD,QAIP,C,oBCxED,KAAgB,UAAY,uB","sources":["components/GoBackButton/GoBackButton.js","webpack://react-homework-template/./src/pages/MovieDetails.module.css?6cd2","pages/MovieDetails.js","webpack://react-homework-template/./src/components/App/App.module.css?583a"],"sourcesContent":["import { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nconst GoBackButton = ({ path, children }) => {\n  return <Link to={path}>{children}</Link>;\n};\n\nexport default GoBackButton;\n\nGoBackButton.propTypes = {\n  path: PropTypes.object.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"movieWrapper\":\"MovieDetails_movieWrapper__ZSTYp\",\"movieContent\":\"MovieDetails_movieContent__7TX8K\",\"detailList\":\"MovieDetails_detailList__nXZiD\",\"detailItem\":\"MovieDetails_detailItem__XMQ+D\"};","import { NavLink, Outlet, useParams, useLocation } from 'react-router-dom';\nimport { useEffect, useState, useRef } from 'react';\nimport { getMovieDetail } from '../services/movies-service';\nimport GoBackButton from 'components/GoBackButton/GoBackButton';\nimport Loader from 'components/Loader/Loader';\n\nimport css from '../components/App/App.module.css';\nimport detailCss from '../pages/MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const [movie, setMovie] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  const { movieId } = useParams();\n  const location = useLocation();\n  const goBackUrl = useRef(location?.state?.from ?? { pathname: '/' });\n\n  useEffect(() => {\n    setIsLoading(true);\n    getMovieDetail(movieId)\n      .then(data => {\n        setMovie(data);\n      })\n      .catch(error => {\n        setError('Page not found');\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  }, [movieId]);\n\n  if (error) {\n    return (\n      <div className={css.container}>\n        <div>{error}</div>\n      </div>\n    );\n  }\n  if (!movie) return <Loader />;\n\n  const { title, genres, overview, year, score, imageUrl } = movie;\n\n  return (\n    <main>\n      <div className={css.container}>\n        {isLoading && <Loader />}\n        <GoBackButton path={goBackUrl.current}>Go back</GoBackButton>\n        <div className={detailCss.movieWrapper}>\n          <img src={imageUrl} alt={title} width={200} />\n          <div className={detailCss.movieContent}>\n            <h2>\n              {title} ({year})\n            </h2>\n            <p>User Score: {score}%</p>\n            <h3>Overview</h3>\n            <p>{overview}</p>\n            <h3>Genres</h3>\n            <p>{genres.join(' ')}</p>\n          </div>\n        </div>\n        <h4>Additional information</h4>\n        <ul className={detailCss.detailList}>\n          <li className={detailCss.detailItem}>\n            <NavLink to=\"cast\">Cast</NavLink>\n          </li>\n          <li className={detailCss.detailItem}>\n            <NavLink to=\"reviews\">Reviews</NavLink>\n          </li>\n        </ul>\n        <Outlet />\n      </div>\n    </main>\n  );\n};\n\nexport default MovieDetails;\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"App_container__cu9yO\"};"],"names":["path","children","to","useState","movie","setMovie","isLoading","setIsLoading","error","setError","movieId","useParams","location","useLocation","goBackUrl","useRef","state","from","pathname","useEffect","getMovieDetail","then","data","catch","finally","className","css","Loader","title","genres","overview","year","score","imageUrl","current","detailCss","src","alt","width","join"],"sourceRoot":""}